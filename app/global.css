@import 'tailwindcss';
@import 'fumadocs-ui/css/neutral.css';
@import 'fumadocs-ui/css/preset.css';

/* Bold separator titles in sidebar */
[data-sidebar] [data-separator] {
  font-weight: 600;
}

/* Encyclopedia slide fonts (shared across parts) */
@font-face { font-family: 'PFn'; src: url('/encyclopedia/part01/fonts/fnt0.woff') format('woff'); }
@font-face { font-family: 'PFnb'; src: url('/encyclopedia/part01/fonts/fnt1.woff') format('woff'); font-weight: bold; }
@font-face { font-family: 'fnt4'; src: url('/encyclopedia/part01/fonts/fnt4.woff') format('woff'); }
@font-face { font-family: 'fnt5'; src: url('/encyclopedia/part01/fonts/fnt5.woff') format('woff'); }
@font-face { font-family: 'fnt6'; src: url('/encyclopedia/part01/fonts/fnt6.woff') format('woff'); }
@font-face { font-family: 'fnt7'; src: url('/encyclopedia/part01/fonts/fnt7.woff') format('woff'); }
@font-face { font-family: 'fnt8'; src: url('/encyclopedia/part01/fonts/fnt8.woff') format('woff'); }

/* Encyclopedia slide viewer core styles */
.playerView {
  position: relative;
  overflow: hidden;
  background: white;
}
.playerView * {
  position: absolute;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
.playerView img {
  max-width: none;
  height: auto;
}
.playerView > * { position: absolute; }
.playerView .slide {
  position: absolute;
  width: 960px;
  height: 540px;
  top: 0;
  left: 0;
  white-space: nowrap;
  font-size: 0px;
}
.playerView .slide * {
  transform-origin: 0px 0px;
  -webkit-transform-origin: 0px 0px;
}
.playerView .slide.relpos,
.playerView .slide .relpos {
  position: relative !important;
  vertical-align: top !important;
}
.playerView .slide.kern,
.playerView .slide .kern {
  text-rendering: optimizeLegibility;
  font-feature-settings: "kern" 1, "liga" 0;
}
.playerView .slide.nokern,
.playerView .slide .nokern {
  text-rendering: optimizeSpeed;
  font-feature-settings: "kern" 0, "liga" 0;
}
.playerView [id^="spr"] { position: absolute; }
.playerView [id^="svg"] { position: absolute; }
.playerView [id^="img"] { position: absolute; }
.playerView span[id^="txt"] {
  position: absolute;
  white-space: nowrap;
  letter-spacing: normal;
}

/* I18n translation overlay */
.slide-i18n-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 960px;
  height: 540px;
  pointer-events: none;
  z-index: 10;
}

/* Encyclopedia layout: remove extra top padding and avoid inner scrollbars */
body.encyclopedia-view #nd-page {
  padding-top: 10px;
  padding-bottom: 10px;
  gap: 0;
  height: calc(var(--fd-docs-height) - var(--fd-docs-row-2));
  box-sizing: border-box;
  overflow: hidden;
}
body.encyclopedia-view #nd-page > * {
  max-width: none !important;
}
body.encyclopedia-view {
  overflow: hidden;
}

/* Mobile reading enhancement for chapter 2 figures (2.1~2.5) */
@media (max-width: 768px) {
  .pin-figure-enhanced .pin-figure-block {
    margin: 0 0 1rem;
  }

  .pin-figure-enhanced .pin-figure-media {
    position: sticky;
    top: var(--pin-figure-top, var(--fd-docs-row-3));
    z-index: 5;
    width: 100vw;
    max-width: none;
    margin-inline: calc(50% - 50vw);
    overflow: hidden;
    border-radius: 0;
    background: transparent;
  }

  .pin-figure-enhanced .pin-figure-media > p,
  .pin-figure-enhanced .pin-figure-media > figure {
    margin: 0;
  }

  .pin-figure-enhanced .pin-figure-media img {
    display: block;
    width: 100%;
    height: auto;
    margin: 0 !important;
    border: 0 !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    background: transparent;
  }

  .pin-figure-enhanced .pin-figure-content {
    padding-top: 0.875rem;
  }

  .pin-figure-enhanced .pin-figure-content > :first-child {
    margin-top: 0;
  }
}
